{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASG,kBAAkB,SAClCC,KAAMJ,SAASG,kBAAkB,QACjCE,OAAQL,SAASG,kBAAkB,WAGrCL,EAAKC,KAAKO,iBAAiB,UAkB3B,SAAsBC,GACpBA,EAAEC,iBACF,IAAMJ,EAAON,EAAKM,KAAK,GAAGK,MACpBP,EAAQJ,EAAKI,MAAM,GAAGO,MACxBC,EAAWC,OAAOT,GAEtBU,YAAW,WACT,I,kBAEEA,YAAW,WACTF,GAAYC,OAAOP,GACnBS,QAAQC,IAAIV,GA1BE,SAACW,EAAGL,GACxB,OAAO,IAAIM,SAAQ,SAACC,EAASC,GAGLC,KAAKC,SAAW,GAGpCC,EAAAzB,GAAS0B,OAAOC,QAAQ,uBAAiCC,OAART,EAAE,QAAeS,OAATd,EAAS,OAElEW,EAAAzB,GAAS0B,OAAOG,QAAQ,sBAA8BD,OAART,EAAE,QAAeS,OAATd,EAAS,M,IAkB7DgB,CAAcC,EAAUjB,GACrBkB,MAAK,SAAAC,GAAWA,EAARF,SAAeE,EAAL3B,K,IAGlB4B,OAAM,SAAAD,GAAWA,EAARF,SAAeE,EAAL3B,K,MAGrBE,E,EAZI2B,EAAW,EAAGA,GAAYjC,EAAKO,OAAO,GAAGI,MAAOsB,IAAUC,EAAAD,E,GAclE7B,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector(\".form\"),\n  delay: document.getElementsByName(\"delay\"),\n  step: document.getElementsByName(\"step\"),\n  amount: document.getElementsByName(\"amount\"),\n}\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\n\nconst createPromise = (i, allDelay) => {\n  return new Promise((resolve, reject) => {\n\n    // setTimeout(() => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${i} in ${allDelay}ms`);\n    } else {\n      Notiflix.Notify.failure(`❌ Rejected promise ${i} in ${allDelay}ms`);\n    }\n    // }, step); \n  });\n};\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const step = refs.step[0].value;\n  const delay = refs.delay[0].value;\n  let allDelay = Number(delay);\n\n  setTimeout(() => {\n    for (let position = 1; position <= refs.amount[0].value; position++) {\n\n      setTimeout(() => {\n        allDelay += Number(step);\n        console.log(step);\n        createPromise(position, allDelay)\n          .then(({ position, delay }) => {\n\n          })\n          .catch(({ position, delay }) => {\n\n          });\n      }, step);\n    }\n  }, delay);\n}"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","delay","getElementsByName","step","amount","addEventListener","e","preventDefault","value","allDelay","Number","setTimeout","console","log","i","Promise","resolve","reject","Math","random","$parcel$interopDefault","Notify","success","concat","failure","$ce04d3a99e08e73b$var$createPromise","position","then","param","catch","position1","_loop"],"version":3,"file":"03-promises.1c883909.js.map"}