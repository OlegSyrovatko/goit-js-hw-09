{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASG,kBAAkB,SAClCC,KAAMJ,SAASG,kBAAkB,QACjCE,OAAQL,SAASG,kBAAkB,WAGrCL,EAAKC,KAAKO,iBAAiB,UAkB3B,SAAsBC,GACpBA,EAAEC,iBACF,MAAMJ,EAAON,EAAKM,KAAK,GAAGK,MACpBP,EAAQJ,EAAKI,MAAM,GAAGO,MAC5B,IAAIC,EAAWC,OAAOT,GAEtBU,YAAW,KACT,IAAK,IAAIC,EAAW,EAAGA,GAAYf,EAAKO,OAAO,GAAGI,MAAOI,IAEvDD,YAAW,KACTF,GAAYC,OAAOP,GACnBU,QAAQC,IAAIX,GACZY,EAAcH,EAAUH,GACrBO,MAAK,EAACJ,SAAEA,EAAQX,MAAEA,MAAb,IAGLgB,OAAM,EAACL,SAAEA,EAAQX,MAAEA,MAAb,GAEL,GACHE,EAAK,GAETF,E,IApCL,MAAMc,EAAgB,CAACG,EAAGT,IACjB,IAAIU,SAAQ,CAACC,EAASC,KAGLC,KAAKC,SAAW,GAGpCC,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAqBR,QAAUT,OAEvDe,EAAA7B,GAAS8B,OAAOE,QAAQ,sBAAoBT,QAAQT,MAAa","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector(\".form\"),\n  delay: document.getElementsByName(\"delay\"),\n  step: document.getElementsByName(\"step\"),\n  amount: document.getElementsByName(\"amount\"),\n}\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\n\nconst createPromise = (i, allDelay) => {\n  return new Promise((resolve, reject) => {\n\n    // setTimeout(() => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${i} in ${allDelay}ms`);\n    } else {\n      Notiflix.Notify.failure(`❌ Rejected promise ${i} in ${allDelay}ms`);\n    }\n    // }, step); \n  });\n};\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const step = refs.step[0].value;\n  const delay = refs.delay[0].value;\n  let allDelay = Number(delay);\n\n  setTimeout(() => {\n    for (let position = 1; position <= refs.amount[0].value; position++) {\n\n      setTimeout(() => {\n        allDelay += Number(step);\n        console.log(step);\n        createPromise(position, allDelay)\n          .then(({ position, delay }) => {\n\n          })\n          .catch(({ position, delay }) => {\n\n          });\n      }, step);\n    }\n  }, delay);\n}"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","delay","getElementsByName","step","amount","addEventListener","e","preventDefault","value","allDelay","Number","setTimeout","position","console","log","$47d4ff9957288465$var$createPromise","then","catch","i","Promise","resolve","reject","Math","random","$parcel$interopDefault","Notify","success","failure"],"version":3,"file":"03-promises.651f373a.js.map"}